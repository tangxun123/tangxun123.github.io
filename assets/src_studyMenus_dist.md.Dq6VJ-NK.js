import{_ as i,c as a,o as e,ae as t}from"./chunks/framework.Dh1jimFm.js";const c=JSON.parse('{"title":"dist包无法在浏览器中直接打开","description":"","frontmatter":{},"headers":[],"relativePath":"src/studyMenus/dist.md","filePath":"src/studyMenus/dist.md","lastUpdated":1742193340000}'),n={name:"src/studyMenus/dist.md"};function h(l,s,p,r,d,k){return e(),a("div",null,s[0]||(s[0]=[t(`<h1 id="dist包无法在浏览器中直接打开" tabindex="-1">dist包无法在浏览器中直接打开 <a class="header-anchor" href="#dist包无法在浏览器中直接打开" aria-label="Permalink to &quot;dist包无法在浏览器中直接打开&quot;">​</a></h1><h2 id="index-html为什么打不开" tabindex="-1">index.html为什么打不开？ <a class="header-anchor" href="#index-html为什么打不开" aria-label="Permalink to &quot;index.html为什么打不开？&quot;">​</a></h2><p>Vue打包后生成的dist文件中的index.html，双击在浏览器中打开后发现一片空白，打开控制台有很多报错：“Failed to load resource: net::ERR_FILE_NOT_FOUND”。 这是因为dist文件是需要放在服务器上运行的，资源默认放在根目录下。打开index.html可以发现，css和js文件的引用使用的是绝对路径，例如： <code>&lt;link href=/css/chunk-00d5eabc.f78fa75d.css rel=prefetch&gt;</code>，对本地磁盘来说，/指向磁盘根目录，所以找不到引用的文件。</p><hr><p>有以下解决方案；</p><ol><li>使用 http-server 创建一个服务器来访问资源</li><li>手写一个简单的node服务器</li></ol><h3 id="_1-使用-http-server" tabindex="-1">1. 使用 http-server <a class="header-anchor" href="#_1-使用-http-server" aria-label="Permalink to &quot;1. 使用 http-server&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">安装：npm install http</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">g</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">进入dist文件夹：cd dist</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">执行命令：http</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server</span></span></code></pre></div><p>如此，进入<code>localhost:8080</code>就可以查看了</p><h3 id="_2-使用-express模块-搭建服务" tabindex="-1">2. 使用 express模块 搭建服务 <a class="header-anchor" href="#_2-使用-express模块-搭建服务" aria-label="Permalink to &quot;2. 使用 express模块 搭建服务&quot;">​</a></h3><p>在dist文件夹<strong>同级目录</strong>创建一个<code>server.js</code>文件，<code>npm init</code> 初始化项目</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// server.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> express </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;express&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> app </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> express</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(express.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dist&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><blockquote><p>安装express的包，<code>npm i express --save</code>控制台输入 <code>node server.js</code>，如此，进入<code>localhost:8080</code>就可以查看了</p></blockquote>`,13)]))}const E=i(n,[["render",h]]);export{c as __pageData,E as default};
